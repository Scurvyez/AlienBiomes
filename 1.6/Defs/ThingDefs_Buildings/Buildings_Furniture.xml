<?xml version="1.0" encoding="utf-8" ?>
<Defs>

    <!-- TODO: make the wall lamp variant before launch too -->

    <ThingDef Name="SZ_TorchBase" ParentName="BuildingBase" Abstract="True">
        <category>Building</category>
        <rotatable>false</rotatable>
        <altitudeLayer>Building</altitudeLayer>
        <passability>PassThroughOnly</passability>
        <pathCost>14</pathCost>
        <constructEffect>ConstructWood</constructEffect>
        <tickerType>Normal</tickerType>
        <drawerType>RealtimeOnly</drawerType>
        <fillPercent>0.15</fillPercent>
        <noRightClickDraftAttack>true</noRightClickDraftAttack>
        <statBases>
            <MaxHitPoints>75</MaxHitPoints>
            <WorkToBuild>100</WorkToBuild>
            <Flammability>0</Flammability>
            <MeditationFocusStrength>0.0</MeditationFocusStrength>
        </statBases>
        <selectable>true</selectable>
        <costList>
            <SZ_ElderBambooLog>20</SZ_ElderBambooLog>
        </costList>
        <building>
            <artificialForMeditationPurposes>false</artificialForMeditationPurposes>
        </building>
        <soundImpactDefault>BulletImpact_Ground</soundImpactDefault>
        <leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
        <resourcesFractionWhenDeconstructed>0</resourcesFractionWhenDeconstructed>
        <drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
        <placeWorkers>
            <li>PlaceWorker_GlowRadius</li>
        </placeWorkers>
        <comps>
            <li Class="CompProperties_Refuelable">
                <fuelConsumptionRate>2.0</fuelConsumptionRate>
                <fuelCapacity>20.0</fuelCapacity>
                <fuelConsumptionPerTickInRain>0.0006</fuelConsumptionPerTickInRain>
                <fuelFilter>
                    <thingDefs>
                        <li>SZ_ElderBambooLog</li>
                    </thingDefs>
                </fuelFilter>
                <initialFuelPercent>1</initialFuelPercent>
                <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
                <functionsInVacuum>false</functionsInVacuum>
            </li>
            <li Class="CompProperties_HeatPusher">
                <compClass>CompHeatPusherPowered</compClass>
                <heatPerSecond>3.5</heatPerSecond>
                <heatPushMaxTemperature>23</heatPushMaxTemperature>
            </li>
            <li Class="CompProperties_FireOverlay">
                <fireSize>0.4</fireSize>
                <offset>(0,0,0.2)</offset>
            </li>
            <li Class="CompProperties_MeditationFocus">
                <statDef>MeditationFocusStrength</statDef>
                <focusTypes>
                    <li>Flame</li>
                </focusTypes>
                <offsets>
                    <li Class="FocusStrengthOffset_Lit">
                        <offset>0.1</offset>
                    </li>
                    <li Class="FocusStrengthOffset_BuildingDefsLit">
                        <defs>
                            <li>Campfire</li>
                            <li>TorchLamp</li>
                            <li>TorchWallLamp</li>
                            <li MayRequire="Ludeon.RimWorld.Royalty">Brazier</li>
                            <li MayRequire="Ludeon.RimWorld.Royalty,Ludeon.RimWorld.Ideology">DarklightBrazier</li>
                            <li MayRequire="Ludeon.RimWorld.Ideology">Darktorch</li>
                            <li MayRequire="Ludeon.RimWorld.Ideology">DarktorchFungus</li>
                        </defs>
                        <offsetPerBuilding>0.01</offsetPerBuilding>
                        <radius>9.9</radius>
                        <maxBuildings>8</maxBuildings>
                        <explanationKey>MeditationFocusPerFlame</explanationKey>
                        <explanationKeyAbstract>MeditationFocusPerFlameAbstract</explanationKeyAbstract>
                        <drawRingRadius>false</drawRingRadius>
                    </li>
                </offsets>
            </li>
        </comps>
    </ThingDef>

    <ThingDef Name="SZ_TorchLampElderBamboo" ParentName="SZ_TorchBase">
        <defName>SZ_TorchLampElderBamboo</defName>
        <label>torch lamp (elder bamboo)</label>
        <description>An elder bamboo torch for lighting an area. People need light to move and work at full speed. Can be automatically refueled with elder bamboo. Produces a small amount of heat.</description>
        <graphicData>
            <texPath>AlienBiomes/Things/Buildings/Misc/TorchLampElderBamboo</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawRotated>false</drawRotated>
            <damageData>
                <rect>(0.35,0.35,0.3,0.3)</rect>
            </damageData>
        </graphicData>
        <uiIconPath>AlienBiomes/Things/Buildings/Misc/TorchLampElderBamboo_MenuIcon</uiIconPath>
        <uiIconScale>0.85</uiIconScale>
        <statBases>
            <StyleDominance MayRequire="Ludeon.RimWorld.Ideology">5</StyleDominance>
        </statBases>
        <placeWorkers>
            <li>PlaceWorker_Heater</li>
            <li>PlaceWorker_MeditationOffsetBuildingsNear</li>
        </placeWorkers>
        <drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
        <comps>
            <li Class="CompProperties_Styleable" />
            <li Class="CompProperties_Glower">
                <glowRadius>10</glowRadius>
                <glowColor>(184,136,83,0)</glowColor>
            </li>
        </comps>
        <designationCategory>Furniture</designationCategory>
        <uiOrder>2800</uiOrder>
        <designationHotKey>Misc10</designationHotKey>
    </ThingDef>

</Defs>